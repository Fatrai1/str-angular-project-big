<div class="content">
    <div class="row">
        <div *ngIf="(product$ | async) as product" class="col-6 offset-3">
            <form #productForm="ngForm" (ngSubmit)="onUpdate(productForm, product)">
                <div class="form-group">
                    <label for="">Name</label>
                    <input type="text" name="name" class="form-control" [(ngModel)]="product.name"
                    pattern=".{2, 25}" required>
                    <div [hidden]="productForm.controls.name?.valid" class="error-message">
                        A név minimum két, maximum 25 karakterből állhat!
                    </div>
                </div>
                <div class="form-group">
                    <label for="">Type</label>
                    <input type="text" name="type" class="form-control" [(ngModel)]="product.type"
                    pattern=".{2, 25}" required>
                    <div [hidden]="productForm.controls.type?.valid" class="error-message">
                        A type minimum két, maximum 25 karakterből állhat!
                    </div>
                </div>
                <div class="form-group">
                    <label for="">catID</label>
                    <input type="number" name="catID" class="form-control" [(ngModel)]="product.catID"
                    pattern="^[1-3]" required>
                    <div [hidden]="productForm.controls.catID?.valid" class="error-message">
                        A név minimum két, maximum 25 karakterből állhat!
                    </div>
                </div>
                <div class="form-group">
                    <label for="">Description</label>
                    <input type="text" name="description" class="form-control" [(ngModel)]="product.description"
                    pattern=".{10, 50}" required>
                    <div [hidden]="productForm.controls.description?.valid" class="error-message">
                        A Megjegyzés minimum 10, maximum 50 karakterből állhat!
                    </div>
                </div>
                <div class="form-group">
                    <label for="">Price</label>
                    <input type="number" name="price" class="form-control" [(ngModel)]="product.price"
                    pattern="[0-9]" required>
                    <div [hidden]="productForm.controls.price?.valid" class="error-message">
                        Az ár szám típusú!
                    </div>
                </div>
                <div class="form-group">
                    <label for="">Featured</label>
                    <select name="featured" [(ngModel)]="product.featured" class="form-control select"
                    pattern="(false|true)" required>
                    <option value="true">True</option>
                    <option value="false">False</option>
                    </select>
                    <div [hidden]="productForm.controls.featured?.valid" class="error-message">
                        A kiemelt csak true, vagy false lehet!
                    </div>
                </div>
                <div class="form-group">
                    <label for="">Active</label>
                    <select name="active" [(ngModel)]="product.active" class="form-control select"
                    pattern="(false|true)" required>
                    <option value="true">True</option>
                    <option value="false">False</option>
                    </select>
                    <div [hidden]="productForm.controls.active?.valid" class="error-message">
                        A aktív csak true, vagy false lehet!
                    </div>
                </div>
                <button [disabled]="productForm.invalid || updating" type="submit"
                    class="btn btn-primary btn-block btn-lg">
                    <i *ngIf="!updating" class="fa fa-save"></i>
                    <i *ngIf="updating" class="fa fa-refresh"></i>
                </button>
            </form>
        </div>
    </div>
</div>
